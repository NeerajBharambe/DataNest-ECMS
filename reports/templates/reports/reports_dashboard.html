{% extends "base.html" %}
{% block title %}Reports | DataNest{% endblock %}
{% block content %}
    <div class="page-header">
        <div>
            <h2 class="mb-0 d-flex align-items-center">
                <i class="fas fa-chart-bar me-2" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></i>
                Reports & Analytics
            </h2>
            <p class="text-muted mb-0 mt-2">Comprehensive overview of document statistics</p>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3 mb-4">
            <div class="stat-card">
                <i class="fas fa-file-alt"></i>
                <h3>{{ total_documents }}</h3>
                <p>Total Documents</p>
            </div>
        </div>
        <div class="col-md-3 mb-4">
            <div class="stat-card">
                <i class="fas fa-check-circle" style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></i>
                <h3 style="color: #11998e;">{{ approved_documents }}</h3>
                <p>Approved</p>
            </div>
        </div>
        <div class="col-md-3 mb-4">
            <div class="stat-card">
                <i class="fas fa-times-circle" style="background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></i>
                <h3 style="color: #eb3349;">{{ rejected_documents }}</h3>
                <p>Rejected</p>
            </div>
        </div>
        <div class="col-md-3 mb-4">
            <div class="stat-card">
                <i class="fas fa-clock" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></i>
                <h3 style="color: #f5576c;">{{ pending_documents }}</h3>
                <p>Pending Reviews</p>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h5 class="mb-0">
                <i class="fas fa-info-circle me-2"></i>Report Summary
            </h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-3">
                        <strong><i class="fas fa-chart-pie me-2"></i>Approval Rate:</strong>
                        {% if total_documents > 0 %}
                            <span class="badge bg-success">{{ approved_documents|floatformat:0|add:0 }}/{{ total_documents }} ({% widthratio approved_documents total_documents 100 %}%)</span>
                        {% else %}
                            <span class="text-muted">N/A</span>
                        {% endif %}
                    </p>
                    <p class="mb-3">
                        <strong><i class="fas fa-exclamation-triangle me-2"></i>Rejection Rate:</strong>
                        {% if total_documents > 0 %}
                            <span class="badge bg-danger">{{ rejected_documents|floatformat:0|add:0 }}/{{ total_documents }} ({% widthratio rejected_documents total_documents 100 %}%)</span>
                        {% else %}
                            <span class="text-muted">N/A</span>
                        {% endif %}
                    </p>
                </div>
                <div class="col-md-6">
                    <p class="mb-3">
                        <strong><i class="fas fa-hourglass-half me-2"></i>Pending Reviews:</strong>
                        <span class="badge bg-warning">{{ pending_documents }} documents</span>
                    </p>
                    <p class="mb-0">
                        <strong><i class="fas fa-file-alt me-2"></i>Total Documents:</strong>
                        <span class="badge bg-primary">{{ total_documents }} documents</span>
                    </p>
                </div>
            </div>
        </div>
    </div>
{% endblock %}


